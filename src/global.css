
/* Force LTR direction on editor content */
[contenteditable="true"],
[contenteditable="true"] * {
  direction: ltr !important;
  text-align: left !important;
  unicode-bidi: plaintext !important;
  writing-mode: horizontal-tb !important;
  overflow-wrap: break-word !important;
  word-break: break-word !important;
}

/* Target specific editor classes */
.editor-content,
.editor-content * {
  direction: ltr !important;
  text-align: left !important;
  unicode-bidi: plaintext !important;
  writing-mode: horizontal-tb !important;
  white-space: pre-wrap !important;
}

/* Improved editor placeholder styling */
.editor-placeholder {
  direction: ltr !important;
  text-align: left !important;
  unicode-bidi: plaintext !important;
  position: absolute !important;
  color: hsl(var(--muted-foreground)) !important;
  pointer-events: none !important;
  user-select: none !important;
  will-change: transform !important;
}

/* Prevent any RTL inheritance */
html[dir="rtl"] .editor-content,
html[dir="rtl"] .editor-content * {
  direction: ltr !important;
  text-align: left !important;
  unicode-bidi: plaintext !important;
}

/* Force input caret to respect LTR */
.force-ltr {
  direction: ltr !important;
  unicode-bidi: plaintext !important;
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
  caret-color: auto !important;
  -webkit-user-modify: read-write !important;
}

/* Target any browser-injected RTL */
*[style*="direction:rtl"],
*[style*="direction: rtl"] {
  direction: ltr !important;
  text-align: left !important;
  unicode-bidi: plaintext !important;
}

/* Ensure caret visibility */
[contenteditable="true"] {
  caret-color: auto !important;
  outline: none !important;
  position: relative !important;
}

/* Improved editor container styling */
.editor-container {
  position: relative !important;
  height: 100% !important;
}

.editor-input {
  min-height: calc(100vh - 120px) !important;
  padding-top: 0.5rem !important;
  outline: none !important;
}

/* Hide scrollbar but allow scrolling */
.no-scrollbar {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.no-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Enhanced mobile support */
@media (max-width: 640px) {
  .editor-content h1 {
    font-size: 1.75rem !important;
  }
  
  .editor-content h2 {
    font-size: 1.5rem !important;
  }
  
  .editor-content h3 {
    font-size: 1.25rem !important;
  }
}

/* Visibility improvements for both modes */
.dark .editor-input {
  color: hsl(var(--foreground)) !important;
}

:root:not(.dark) .editor-input {
  color: hsl(var(--foreground)) !important;
}

/* Fix for webkit browsers */
@supports (-webkit-overflow-scrolling: touch) {
  [contenteditable="true"] {
    -webkit-user-modify: read-write !important;
    -webkit-user-select: text !important;
  }
}

/* Prevent zoom on mobile when typing */
@media (max-width: 768px) {
  input, textarea, [contenteditable="true"] {
    font-size: 16px !important;
  }
}
